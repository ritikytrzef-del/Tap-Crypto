<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Mini App</title>

    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- AdExtra Script -->
    <script async src="https://partner.adextra.io/jt/1c7362f1b1e724e03328b0c5ca9e4bedcb7c0599.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
            background: #f0f0f0;
        }
        button {
            padding: 15px 40px;
            font-size: 20px;
            margin: 20px;
            background: #0088cc;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1>Telegram Mini App</h1>
    <p>Reward ‡§™‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ad ‡§¶‡•á‡§ñ‡•ã</p>

    <!-- AdExtra Placement Div -->
    <div id="1c7362f1b1e724e03328b0c5ca9e4bedcb7c0599"></div>

    <!-- Button ‡§ú‡•ã ad show ‡§ï‡§∞‡•á‡§ó‡§æ -->
    <button id="adButton" onclick="showAd()">Watch Ad & Get Reward</button>

    <!-- Ad Logic Script -->
    <script>
        const AD_ID = '1c7362f1b1e724e03328b0c5ca9e4bedcb7c0599';
        const adButton = document.getElementById('adButton');

        function showAd() {
            if (typeof p !== 'undefined' && typeof p.adextra === 'function') {
                // Button disable ‡§ï‡§∞‡•ã ‡§§‡§æ‡§ï‡§ø ‡§¨‡§æ‡§∞-‡§¨‡§æ‡§∞ click ‡§® ‡§π‡•ã
                adButton.disabled = true;
                adButton.textContent = 'Loading Ad...';

                p.adextra(
                    () => {
                        // Success: Ad complete ‡§π‡•Å‡§Ü
                        console.log('Ad shown successfully!');
                        alert('Ad completed! üéâ You got your reward!');
                        adButton.textContent = 'Watch Ad & Get Reward';
                        adButton.disabled = false;
                        // ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ reward logic add ‡§ï‡§∞‡•ã (coins++, unlock etc.)
                    },
                    () => {
                        // Error: Ad ‡§®‡§π‡•Ä‡§Ç ‡§Ü‡§Ø‡§æ ‡§Ø‡§æ skip ‡§π‡•Å‡§Ü
                        console.log('Ad error or no fill');
                        alert('No ad available right now. Try again in a few seconds.');
                        adButton.textContent = 'Watch Ad & Get Reward';
                        adButton.disabled = false;
                    }
                );
            } else {
                alert('Ad system not ready yet. Please wait...');
                adButton.disabled = false;
            }
        }
    </script>
</body>
</html>
