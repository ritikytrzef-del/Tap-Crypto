<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>मेरा Mini App - Adexium Interstitial Ads</title>

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js?56"></script>

  <!-- Adexium Ads Script -->
  <script type="text/javascript" src="https://cdn.tgads.space/assets/js/adexium-widget.min.js"></script>

  <style>
    body { font-family: 'Segoe UI', Arial; margin: 0; padding: 20px; background: #f0f2f5; text-align: center; }
    .container { max-width: 500px; margin: 20px auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    h1 { color: #1a73e8; }
    button { background: #34a853; color: white; border: none; padding: 14px 28px; font-size: 16px; border-radius: 8px; margin: 10px; cursor: pointer; }
    .status { margin-top: 15px; font-weight: bold; }
    .reward { color: #34a853; }
    .error { color: #d93025; }
  </style>
</head>

<body>
  <div class="container">
    <h1>स्वागत है!</h1>
    <p>यह मेरा Telegram Mini App है।</p>
    <p>Ad देखकर reward पाएं!</p>

    <button id="watchAdButton">Ad देखें (Watch Ads)</button>

    <p id="status" class="status"></p>
  </div>

  <script>
    Telegram.WebApp.ready();
    Telegram.WebApp.expand();

    let adexiumWidget; // global variable

    document.addEventListener('DOMContentLoaded', () => {
      adexiumWidget = new AdexiumWidget({
        wid: '46231eef-4c57-40c2-8f58-fdcdc4d0535b',
        adFormat: 'interstitial',
        debug: false  // production में false रखें, test के लिए true
      });

      // ad मिलने पर automatically display करें
      adexiumWidget.on('adReceived', (ad) => {
        adexiumWidget.displayAd(ad);
        document.getElementById('status').innerHTML = '<span class="reward">Ad दिखाया गया! Reward मिलेगा।</span>';
      });

      // ad नहीं मिला तो error
      adexiumWidget.on('noAdFound', () => {
        document.getElementById('status').innerHTML = '<span class="error">कोई Ad उपलब्ध नहीं है। बाद में कोशिश करें।</span>';
      });

      // ad closed या other events अगर जरूरत हो तो add कर सकते हैं
      adexiumWidget.on('adClosed', () => {
        console.log('Ad बंद हुआ');
      });
    });

    // Manual button click पर ad request
    document.getElementById('watchAdButton').onclick = () => {
      document.getElementById('status').innerHTML = '<span class="status">Ad लोड हो रहा है...</span>';
      adexiumWidget.requestAd();  // format specify नहीं करना पड़ेगा क्योंकि init में interstitial है
    };

    // Optional: Page load के 5 seconds बाद एक बार auto ad try करें
    setTimeout(() => {
      document.getElementById('status').innerHTML = '<span class="status">Ad लोड हो रहा है...</span>';
      adexiumWidget.requestAd();
    }, 5000);
  </script>
</body>
</html>
